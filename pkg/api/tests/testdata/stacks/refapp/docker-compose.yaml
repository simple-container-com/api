services:
  mongodb: # initially generated by the tooling
    image: mongo:5
    container_name: refapp-mongodb
    ports:
      - "27017:27017"
    volumes:
      - refapp:/data/db
  api: # added by developer
    build:
      context: ./api
    container_name: refapp-api
    environment:
      NODE_ENV: production
      JWT_SECRET: KvKiA2mMjxGO25Diiibz
      DB_URL: mongodb://mongodb:27017
      DB_NAME: refapp
    expose:
      - "8080"
  ui: # added by developer
    build:
      context: ./ui
    ports:
      - "80:80"
    container_name: refapp-ui
    environment:
      BACKEND_URL: http://api:8080
volumes:
  refapp:
