# Generated by sc CLI when initially setting up
schemaVersion: 1.0
stacks:
  staging: &staging
    type: cloud-compose
    parent: refapp
    config: &config
      domain: staging.sc-refapp.org
      dockerComposeFile: ${git:root}/docker-compose.yaml # uses listed containers from docker-compose.yaml
      uses:
        - mongodb
      runs:
        - api
        - ui
      env:
        JWT_SECRET: ${secret:JWT_SECRET}
      secrets: {}
  prod:
    <<: *staging
    config:
      <<: *config
      domain: prod.sc-refapp.org