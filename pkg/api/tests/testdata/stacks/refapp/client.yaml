# Generated by sc CLI when initially setting up
schemaVersion: 1.0
stacks:
  staging: &staging
    type: cloud-compose
    parent: refapp
    environment: staging
    config: &config
      domain: staging.sc-refapp.org
      dockerComposeFile: ./docker-compose.yaml # uses listed containers from docker-compose.yaml
      uses:
        - mongodb
      runs:
        - api
        - ui
      secrets:
        JWT_SECRET: ${secret:JWT_SECRET}
  prod:
    <<: *staging
    environment: prod
    config:
      <<: *config
      domain: prod.sc-refapp.org